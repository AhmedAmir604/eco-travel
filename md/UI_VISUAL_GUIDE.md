# UI Visual Guide - User Location Features

## Component Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Enable location for better results                      â”‚
â”‚  Get more accurate suggestions for places near you          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Enable Location  â”‚  â”‚  Maybe Later    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“ (when location granted)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Search Radius:  [10km] [25km] [50km] [100km] [200km]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”  [Search for places...]                          âœ• â–¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“ (when typing)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Liberty Market                                           â”‚
â”‚     Gulberg, Lahore, Pakistan                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ Anarkali Bazaar                                          â”‚
â”‚     Old City, Lahore, Pakistan                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ Mall of Lahore                                           â”‚
â”‚     Cantt, Lahore, Pakistan                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Variations

### 1. First Visit (Permission Prompt)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§­ Enable location for better results                  â”‚
â”‚  Get more accurate suggestions for places near you      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Enable Location â”‚  â”‚ Maybe Later  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Theme: Blue (bg-blue-50, border-blue-200)
Icon: Navigation (blue)
```

### 2. Location Granted (With Radius Selector)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Search Radius:  10km  25km  [50km]  100km  200km   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Theme: Emerald (bg-emerald-50, border-emerald-200)
Icon: MapPinned (emerald)
Active: bg-emerald-600 text-white
Inactive: bg-white text-emerald-700
```

### 3. Location Denied (No Extras)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”  [Search for places...]                      âœ•  â–¼  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

No prompt, no radius selector
Falls back to default location (Lahore)
```

## Color Scheme

### Location Prompt (Blue Theme)

- **Background**: `#EFF6FF` (blue-50)
- **Border**: `#BFDBFE` (blue-200)
- **Text**: `#1E3A8A` (blue-900)
- **Primary Button**: `#2563EB` (blue-600)
- **Secondary Button**: White with `#93C5FD` border (blue-300)

### Radius Selector (Emerald Theme)

- **Background**: `#ECFDF5` (emerald-50)
- **Border**: `#A7F3D0` (emerald-200)
- **Text**: `#064E3B` (emerald-900)
- **Active Button**: `#059669` (emerald-600) + white text
- **Inactive Button**: White with `#059669` text (emerald-700)

## Responsive Behavior

### Desktop (>768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Search Radius:  10km  25km  [50km]  100km  200km â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

All buttons in one row

### Mobile (<768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Search Radius:          â”‚
â”‚  10km  25km  [50km]         â”‚
â”‚  100km  200km               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Buttons wrap to multiple rows

## Interactive States

### Radius Button States

```
Inactive:  [ 50km ]  â† bg-white text-emerald-700
Hover:     [ 50km ]  â† bg-emerald-100
Active:    [ 50km ]  â† bg-emerald-600 text-white
Focus:     [ 50km ]  â† Focus ring
```

### Location Prompt Actions

```
Enable Location:
  Default â†’ bg-blue-600 text-white
  Hover â†’ bg-blue-700
  Click â†’ Browser permission dialog

Maybe Later:
  Default â†’ bg-white text-blue-600 border-blue-300
  Hover â†’ bg-blue-50
  Click â†’ Prompt disappears
```

## Animation & Transitions

### Prompt Appearance

```javascript
// Smooth slide down
opacity: 0 â†’ 1 (200ms)
transform: translateY(-10px) â†’ translateY(0)
```

### Radius Selection

```javascript
// Instant visual feedback
background: white â†’ emerald-600 (150ms)
color: emerald-700 â†’ white (150ms)
```

### Dropdown Toggle

```javascript
// Chevron rotation
transform: rotate(0deg) â†’ rotate(180deg) (200ms)
```

## Accessibility

### ARIA Labels

```html
<!-- Search Input -->
<input
  role="combobox"
  aria-expanded="true/false"
  aria-haspopup="listbox"
  aria-autocomplete="list"
/>

<!-- Radius Buttons -->
<button type="button" aria-label="Set search radius to 50 kilometers" />

<!-- Location Prompt -->
<button type="button" aria-label="Enable location for better search results" />
```

### Keyboard Navigation

- **Tab**: Navigate between buttons
- **Enter/Space**: Activate button
- **Escape**: Close prompt/dropdown
- **Arrow Keys**: Navigate dropdown items

## Icon Usage

### Navigation Icon (Location Prompt)

```
import { Navigation } from "lucide-react"
<Navigation size={18} className="text-blue-600" />
```

### MapPinned Icon (Radius Selector)

```
import { MapPinned } from "lucide-react"
<MapPinned size={14} className="text-emerald-600" />
```

### MapPin Icon (Results)

```
import { MapPin } from "lucide-react"
<MapPin size={14} className="text-emerald-600" />
```

## User Flow Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Open Page  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Permission Unknown â”€â”€â†’ Show Prompt
       â”‚
       â”œâ”€ Permission Granted â”€â”€â†’ Show Radius Selector
       â”‚                         + Use GPS Location
       â”‚
       â””â”€ Permission Denied â”€â”€â”€â†’ Use Default Location
                                 + Hide Radius Selector

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Clicks       â”‚
â”‚  "Enable Location" â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Grants â”€â”€â†’ Hide Prompt + Show Radius + Use GPS
       â”‚
       â””â”€ Denies â”€â”€â†’ Hide Prompt + Use Default Location
```

## Example: Liberty Market Search (50km radius)

### User in Gulberg, Lahore

**Location**: 31.5204Â°N, 74.3587Â°E
**Radius**: 50km

**Results**:

1. Liberty Market (2km away) âœ…
2. MM Alam Road (3km away) âœ…
3. Packages Mall (5km away) âœ…
4. Emporium Mall (8km away) âœ…
5. Lahore Fort (10km away) âœ…

### Same search with 10km radius

**Results**:

1. Liberty Market (2km away) âœ…
2. MM Alam Road (3km away) âœ…
3. Packages Mall (5km away) âœ…
4. Emporium Mall (8km away) âœ…
5. ~~Lahore Fort (10km away)~~ âŒ (outside radius)

## Component Props Visual

```javascript
<CitySearchInput
  // Standard props
  placeholder="Search for places..."
  onCitySelect={handleSelect}
  // New location props
  showRadiusSelector={true} // Show radius bar?
  initialRadius={50} // Default: 50km
/>
```

### Props Impact

```
showRadiusSelector=true + location granted
  â†“
  ğŸ“ Search Radius: [10km] [25km] [50km] [100km] [200km]

showRadiusSelector=false OR location denied
  â†“
  (No radius selector shown)

initialRadius=100
  â†“
  ğŸ“ Search Radius: 10km 25km 50km [100km] 200km
  (100km is pre-selected)
```

## Error States

### Geolocation Error

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  Could not get your location               â”‚
â”‚  Using default location: Lahore, Pakistan      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Falls back to default coordinates gracefully
No scary error messages to user
```

### Timeout

```
10 seconds â†’ Use default location
No blocking, no error message
Smooth fallback experience
```

## Browser Support Visual

| Feature         | Chrome | Firefox | Safari | Edge |
| --------------- | ------ | ------- | ------ | ---- |
| Location Prompt | âœ…     | âœ…      | âœ…     | âœ…   |
| Radius Selector | âœ…     | âœ…      | âœ…     | âœ…   |
| Permission API  | âœ…     | âœ…      | âš ï¸     | âœ…   |
| Geolocation API | âœ…     | âœ…      | âœ…     | âœ…   |

**Note**: Safari has limited Permissions API, but everything still works with graceful fallback.

## Development Tips

### Testing Different Permission States

**1. Prompt State (First Time)**

```
Chrome DevTools â†’ Application â†’ Storage â†’ Clear site data
Reload â†’ Should see prompt
```

**2. Granted State**

```
Chrome DevTools â†’ Sensors â†’ Location â†’ Custom
Set coordinates â†’ Should see radius selector
```

**3. Denied State**

```
Address bar â†’ Click ğŸ”’ â†’ Site settings
Block Location â†’ Should use default
```

### Quick Style Tweaks

**Change prompt color to green:**

```jsx
bg-blue-50 â†’ bg-emerald-50
border-blue-200 â†’ border-emerald-200
text-blue-600 â†’ text-emerald-600
```

**Add more radius options:**

```jsx
{[10, 25, 50, 100, 200].map((radius) => ...)}
  â†“
{[5, 10, 25, 50, 100, 200, 500].map((radius) => ...)}
```

**Change default radius:**

```jsx
initialRadius={50} â†’ initialRadius={25}
```

---

**Pro Tip**: Use browser DevTools "Sensors" panel to simulate different locations and test radius behavior without moving physically!
